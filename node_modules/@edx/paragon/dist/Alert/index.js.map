{"version":3,"file":"index.js","names":["React","useCallback","useEffect","useState","PropTypes","classNames","BaseAlert","divWithClassName","FormattedMessage","useMediaQuery","Icon","breakpoints","Button","ActionRow","ALERT_CLOSE_LABEL_TEXT","Alert","forwardRef","_ref","ref","children","icon","actions","dismissible","onClose","closeLabel","stacked","props","_objectWithoutProperties","_excluded","isStacked","setIsStacked","isExtraSmall","maxWidth","extraSmall","actionButtonSize","cloneActionElement","Action","addtlActionProps","size","key","cloneElement","createElement","_extends","className","src","length","Spacer","variant","onClick","id","defaultMessage","description","map","DivStyledAsH4","displayName","AlertHeading","Heading","AlertLink","Link","commonPropTypes","as","elementType","bsPrefix","string","propTypes","defaultProps","_objectSpread","oneOf","transition","oneOfType","bool","shape","in","appear","node","onEnter","func","onEntered","onEntering","onExit","onExited","onExiting","show","arrayOf","element","undefined"],"sources":["../../src/Alert/index.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport BaseAlert from 'react-bootstrap/Alert';\nimport divWithClassName from 'react-bootstrap/divWithClassName';\nimport { FormattedMessage } from 'react-intl';\nimport { useMediaQuery } from 'react-responsive';\nimport Icon from '../Icon';\nimport breakpoints from '../utils/breakpoints';\nimport Button from '../Button';\nimport ActionRow from '../ActionRow';\n\nexport const ALERT_CLOSE_LABEL_TEXT = 'Dismiss';\n\nconst Alert = React.forwardRef(({\n  children,\n  icon,\n  actions,\n  dismissible,\n  onClose,\n  closeLabel,\n  stacked,\n  ...props\n}, ref) => {\n  const [isStacked, setIsStacked] = useState(stacked);\n  const isExtraSmall = useMediaQuery({ maxWidth: breakpoints.extraSmall.maxWidth });\n  const actionButtonSize = 'sm';\n\n  useEffect(() => {\n    if (isExtraSmall) {\n      setIsStacked(true);\n    } else {\n      setIsStacked(stacked);\n    }\n  }, [isExtraSmall, stacked]);\n\n  const cloneActionElement = useCallback(\n    (Action) => {\n      const addtlActionProps = { size: actionButtonSize, key: Action.props.children };\n      return React.cloneElement(Action, addtlActionProps);\n    },\n    [],\n  );\n\n  return (\n    <BaseAlert\n      {...props}\n      className={classNames('alert-content', props.className)}\n      ref={ref}\n    >\n      {icon && <Icon src={icon} className=\"alert-icon\" />}\n      <div\n        className={classNames({\n          'pgn__alert-message-wrapper': !isStacked,\n          'pgn__alert-message-wrapper-stacked': isStacked,\n        })}\n      >\n        <div className=\"alert-message-content\">\n          {children}\n        </div>\n        {(dismissible || actions?.length > 0) && (\n          <ActionRow className=\"pgn__alert-actions\">\n            <ActionRow.Spacer />\n            {dismissible && (\n              <Button\n                size={actionButtonSize}\n                variant=\"tertiary\"\n                onClick={onClose}\n              >\n                {closeLabel || (\n                  <FormattedMessage\n                    id=\"pgn.Alert.closeLabel\"\n                    defaultMessage=\"Dismiss\"\n                    description=\"Label of a close button on Alert component\"\n                  />\n                )}\n              </Button>\n            )}\n            {actions && actions.map(cloneActionElement)}\n          </ActionRow>\n        )}\n      </div>\n    </BaseAlert>\n  );\n});\n\n// This is needed to display a default prop for Alert.Heading element\n// Copied from react-bootstrap since BaseAlert.Heading component doesn't have defaultProps,\n// so there seems to be no other way of providing correct default prop for base element\nconst DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\n\nfunction AlertHeading(props) {\n  return <BaseAlert.Heading {...props} />;\n}\nfunction AlertLink(props) {\n  return <BaseAlert.Link {...props} />;\n}\n\nconst commonPropTypes = {\n  /** Specifies the base element */\n  as: PropTypes.elementType,\n  /** Overrides underlying component base CSS class name */\n  bsPrefix: PropTypes.string,\n};\n\nAlertLink.propTypes = commonPropTypes;\nAlertHeading.propTypes = commonPropTypes;\n\nAlertLink.defaultProps = {\n  as: 'a',\n  bsPrefix: 'alert-link',\n};\n\nAlertHeading.defaultProps = {\n  as: DivStyledAsH4,\n  bsPrefix: 'alert-heading',\n};\n\nAlert.propTypes = {\n  ...BaseAlert.propTypes,\n  /** Specifies class name to append to the base element */\n  className: PropTypes.string,\n  /** Overrides underlying component base CSS class name */\n  bsPrefix: PropTypes.string,\n  /** Specifies variant to use. */\n  variant: PropTypes.oneOf(['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'dark', 'light']),\n  /**\n   * Animate the entering and exiting of the Alert. `true` will use the `<Fade>` transition,\n   * more detailed customization is also provided.\n   */\n  transition: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n    in: PropTypes.bool,\n    appear: PropTypes.bool,\n    children: PropTypes.node,\n    onEnter: PropTypes.func,\n    onEntered: PropTypes.func,\n    onEntering: PropTypes.func,\n    onExit: PropTypes.func,\n    onExited: PropTypes.func,\n    onExiting: PropTypes.func,\n  })]),\n  /** Docstring for the children prop */\n  children: PropTypes.node,\n  /** Docstring for the icon prop... Icon that will be shown in the alert */\n  icon: PropTypes.func,\n  /** Whether the alert is shown. */\n  show: PropTypes.bool,\n  /** Whether the alert is dismissible. Defaults to true. */\n  dismissible: PropTypes.bool,\n  /** Optional callback function for when the alert it dismissed. */\n  onClose: PropTypes.func,\n  /** Optional list of action elements. May include, at most, 2 actions, or 1 if dismissible is true. */\n  actions: PropTypes.arrayOf(PropTypes.element),\n  /** Position of the dismiss and call-to-action buttons. Defaults to ``false``. */\n  stacked: PropTypes.bool,\n  /** Sets the text for alert close button, defaults to 'Dismiss'. */\n  closeLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n};\n\nAlert.defaultProps = {\n  ...BaseAlert.defaultProps,\n  children: undefined,\n  icon: undefined,\n  actions: undefined,\n  dismissible: false,\n  onClose: () => {},\n  closeLabel: undefined,\n  show: true,\n  stacked: false,\n};\n\nAlert.Heading = AlertHeading;\nAlert.Link = AlertLink;\n\nexport default Alert;\n"],"mappings":"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"}