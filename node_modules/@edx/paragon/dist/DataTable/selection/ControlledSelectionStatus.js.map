{"version":3,"file":"ControlledSelectionStatus.js","names":["React","useContext","useEffect","PropTypes","DataTableContext","BaseSelectionStatus","clearSelectionAction","setSelectAllRowsAllPagesAction","setSelectedRowsAction","getUnselectedPageRows","getRowIds","ControlledSelectionStatus","_ref","className","clearSelectionText","rest","_objectWithoutProperties","_excluded","itemCount","page","controlledTableSelections","selectedRows","isEntireTableSelected","dispatch","selectedRowIds","unselectedPageRows","length","numSelectedRows","numSelectedRowsOnPage","filter","r","isSelected","selectionStatusProps","_objectSpread","onSelectAll","onClear","createElement","defaultProps","undefined","propTypes","string","oneOfType","element"],"sources":["../../../src/DataTable/selection/ControlledSelectionStatus.jsx"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport DataTableContext from '../DataTableContext';\nimport BaseSelectionStatus from './BaseSelectionStatus';\n\nimport {\n  clearSelectionAction,\n  setSelectAllRowsAllPagesAction,\n  setSelectedRowsAction,\n} from './data/actions';\nimport {\n  getUnselectedPageRows,\n  getRowIds,\n} from './data/helpers';\n\nfunction ControlledSelectionStatus({ className, clearSelectionText, ...rest }) {\n  const {\n    itemCount,\n    page,\n    controlledTableSelections: [{ selectedRows, isEntireTableSelected }, dispatch],\n  } = useContext(DataTableContext);\n\n  useEffect(\n    () => {\n      if (isEntireTableSelected) {\n        const selectedRowIds = getRowIds(selectedRows);\n        const unselectedPageRows = getUnselectedPageRows(selectedRowIds, page);\n        if (unselectedPageRows.length) {\n          dispatch(setSelectedRowsAction(unselectedPageRows, itemCount));\n        }\n      }\n    },\n    [isEntireTableSelected, selectedRows, itemCount, page, dispatch],\n  );\n\n  const numSelectedRows = isEntireTableSelected ? itemCount : selectedRows.length;\n  const numSelectedRowsOnPage = (page || []).filter(r => r.isSelected).length;\n\n  const selectionStatusProps = {\n    className,\n    numSelectedRows,\n    numSelectedRowsOnPage,\n    clearSelectionText,\n    onSelectAll: () => dispatch(setSelectAllRowsAllPagesAction()),\n    onClear: () => dispatch(clearSelectionAction()),\n    ...rest,\n  };\n  return <BaseSelectionStatus {...selectionStatusProps} />;\n}\n\nControlledSelectionStatus.defaultProps = {\n  className: undefined,\n  clearSelectionText: undefined,\n};\n\nControlledSelectionStatus.propTypes = {\n  /** A class name to append to the base element */\n  className: PropTypes.string,\n  /** A text that appears on the `Clear selection` button, defaults to 'Clear Selection' */\n  clearSelectionText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n};\n\nexport default ControlledSelectionStatus;\n"],"mappings":";;;;;;;;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACpD,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,gBAAgB,MAAM,qBAAqB;AAClD,OAAOC,mBAAmB,MAAM,uBAAuB;AAEvD,SACEC,oBAAoB,EACpBC,8BAA8B,EAC9BC,qBAAqB,QAChB,gBAAgB;AACvB,SACEC,qBAAqB,EACrBC,SAAS,QACJ,gBAAgB;AAEvB,SAASC,yBAAyBA,CAAAC,IAAA,EAA6C;EAAA,IAA5C;MAAEC,SAAS;MAAEC;IAA4B,CAAC,GAAAF,IAAA;IAANG,IAAI,GAAAC,wBAAA,CAAAJ,IAAA,EAAAK,SAAA;EACzE,MAAM;IACJC,SAAS;IACTC,IAAI;IACJC,yBAAyB,EAAE,CAAC;MAAEC,YAAY;MAAEC;IAAsB,CAAC,EAAEC,QAAQ;EAC/E,CAAC,GAAGtB,UAAU,CAACG,gBAAgB,CAAC;EAEhCF,SAAS,CACP,MAAM;IACJ,IAAIoB,qBAAqB,EAAE;MACzB,MAAME,cAAc,GAAGd,SAAS,CAACW,YAAY,CAAC;MAC9C,MAAMI,kBAAkB,GAAGhB,qBAAqB,CAACe,cAAc,EAAEL,IAAI,CAAC;MACtE,IAAIM,kBAAkB,CAACC,MAAM,EAAE;QAC7BH,QAAQ,CAACf,qBAAqB,CAACiB,kBAAkB,EAAEP,SAAS,CAAC,CAAC;MAChE;IACF;EACF,CAAC,EACD,CAACI,qBAAqB,EAAED,YAAY,EAAEH,SAAS,EAAEC,IAAI,EAAEI,QAAQ,CACjE,CAAC;EAED,MAAMI,eAAe,GAAGL,qBAAqB,GAAGJ,SAAS,GAAGG,YAAY,CAACK,MAAM;EAC/E,MAAME,qBAAqB,GAAG,CAACT,IAAI,IAAI,EAAE,EAAEU,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,UAAU,CAAC,CAACL,MAAM;EAE3E,MAAMM,oBAAoB,GAAAC,aAAA;IACxBpB,SAAS;IACTc,eAAe;IACfC,qBAAqB;IACrBd,kBAAkB;IAClBoB,WAAW,EAAEA,CAAA,KAAMX,QAAQ,CAAChB,8BAA8B,CAAC,CAAC,CAAC;IAC7D4B,OAAO,EAAEA,CAAA,KAAMZ,QAAQ,CAACjB,oBAAoB,CAAC,CAAC;EAAC,GAC5CS,IAAI,CACR;EACD,oBAAOf,KAAA,CAAAoC,aAAA,CAAC/B,mBAAmB,EAAK2B,oBAAuB,CAAC;AAC1D;AAEArB,yBAAyB,CAAC0B,YAAY,GAAG;EACvCxB,SAAS,EAAEyB,SAAS;EACpBxB,kBAAkB,EAAEwB;AACtB,CAAC;AAED3B,yBAAyB,CAAC4B,SAAS,GAAG;EACpC;EACA1B,SAAS,EAAEV,SAAS,CAACqC,MAAM;EAC3B;EACA1B,kBAAkB,EAAEX,SAAS,CAACsC,SAAS,CAAC,CAACtC,SAAS,CAACqC,MAAM,EAAErC,SAAS,CAACuC,OAAO,CAAC;AAC/E,CAAC;AAED,eAAe/B,yBAAyB"}